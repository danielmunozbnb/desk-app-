{"flowVersion":"2.12.0","_type":"Flow","_value":{"name":{"_type":"Identifier","_value":"ApproveReservation"},"type":{"_type":"FlowType","_value":".Mixed.BusinessProcessTrigger"},"start":{"_type":"BusinessProcessTriggerStart","_value":{"parameters":{"_type":["List","ExprParameter"],"_value":[{"_type":"ExprParameter","_value":{"name":{"_type":"Identifier","_value":"bookingID"},"type":{"_type":"Type","_value":"String"},"expr":{"_type":["Opt",["Expr",["Opt","Any"]]],"_value":null}}},{"_type":"ExprParameter","_value":{"name":{"_type":"Identifier","_value":"ManagerApproval"},"type":{"_type":"Type","_value":"String"},"expr":{"_type":["Opt",["Expr",["Opt","Any"]]],"_value":null}}}]},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}},"end":{"_type":"BusinessProcessTriggerEnd","_value":{"notes":{"_type":["List","Note"],"_value":[]}}},"nodes":{"_type":["List","Node"],"_value":[{"_type":"Log","_value":{"name":{"_type":"Identifier","_value":"Log"},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"message":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"s\"${\"Manager Approval:\"}${data(\"start\", \"ManagerApproval\")}\""}}},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}},{"_type":"BranchOnConditions","_value":{"name":{"_type":"Identifier","_value":"BranchonConditions"},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"ifBranches":{"_type":["List","WhenBranch"],"_value":[{"_type":"WhenBranch","_value":{"name":{"_type":"Identifier","_value":"IF"},"condition":{"_type":["Expr","Boolean"],"_value":{"type":{"_type":"Type","_value":"Boolean"},"source":{"_type":"String","_value":"data(\"start\", \"ManagerApproval\").contains(\"Successfully Completed\")"}}},"group":{"_type":"ImplicitGroup","_value":{"name":{"_type":"Identifier","_value":"_group_IF_BranchonConditions"},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"nodes":{"_type":["List","Node"],"_value":[{"_type":"SendWorkdayApiRequest","_value":{"name":{"_type":"Identifier","_value":"SendWorkdayAPIRequest1"},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"body":{"_type":["Opt","CreateTextTemplateBody"],"_value":{"_type":"CreateTextTemplateBody","_value":{"message":{"_type":"TextTemplate","_value":"{\n    \"state\": \"Reserved\"\n}"},"contentType":{"_type":"String","_value":"application/json"}}}},"path":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"s\"${\"/apps/desk_reservation_qxbfwx/v1/\"}${\"bookings/\"}${data(\"start\", \"bookingID\")}\""}}},"queryParams":{"_type":["List","QueryParam"],"_value":[]},"method":{"_type":"HttpMethod","_value":"PATCH"},"headers":{"_type":["List","Header"],"_value":[]},"auth":{"_type":"WorkdayCredentialRef","_value":{"resourceName":{"_type":"String","_value":"OTabMVk2"}}},"connectTimeoutMs":{"_type":"Long","_value":10000},"responseTimeoutMs":{"_type":"Long","_value":20000},"overallTimeoutMs":{"_type":"Long","_value":300000},"maxRetries":{"_type":"Int","_value":0},"retryDelayMs":{"_type":"Long","_value":1000},"tlsConfig":{"_type":["Opt","TlsConfig"],"_value":null},"proxyConfig":{"_type":["Opt","ProxyConfig"],"_value":null},"responseCodeRange":{"_type":["Opt","ResponseCodeRange"],"_value":null},"responseType":{"_type":"HttpResponseType","_value":"Any"},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}},{"_type":"Log","_value":{"name":{"_type":"Identifier","_value":"Log_1"},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"message":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"s\"${\"PatchBooking response: \"}${data(\"SendWorkdayAPIRequest1\", \"response\")}\""}}},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}}]},"notes":{"_type":["List","Note"],"_value":[]}}}}}]},"elseBranch":{"_type":["Opt","ImplicitGroup"],"_value":{"_type":"ImplicitGroup","_value":{"name":{"_type":"Identifier","_value":"_else_BranchonConditions"},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"nodes":{"_type":["List","Node"],"_value":[{"_type":"SendWorkdayApiRequest","_value":{"name":{"_type":"Identifier","_value":"SendWorkdayAPIRequest"},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"body":{"_type":["Opt","CreateTextTemplateBody"],"_value":{"_type":"CreateTextTemplateBody","_value":{"message":{"_type":"TextTemplate","_value":"{\n    \"state\": \"Denied\"\n}"},"contentType":{"_type":"String","_value":"application/json"}}}},"path":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"s\"${\"/apps/desk_reservation_qxbfwx/v1/\"}${\"bookings/\"}${data(\"start\", \"bookingID\")}\""}}},"queryParams":{"_type":["List","QueryParam"],"_value":[]},"method":{"_type":"HttpMethod","_value":"PATCH"},"headers":{"_type":["List","Header"],"_value":[]},"auth":{"_type":"WorkdayCredentialRef","_value":{"resourceName":{"_type":"String","_value":"OTabMVk2"}}},"connectTimeoutMs":{"_type":"Long","_value":10000},"responseTimeoutMs":{"_type":"Long","_value":20000},"overallTimeoutMs":{"_type":"Long","_value":300000},"maxRetries":{"_type":"Int","_value":0},"retryDelayMs":{"_type":"Long","_value":1000},"tlsConfig":{"_type":["Opt","TlsConfig"],"_value":null},"proxyConfig":{"_type":["Opt","ProxyConfig"],"_value":null},"responseCodeRange":{"_type":["Opt","ResponseCodeRange"],"_value":null},"responseType":{"_type":"HttpResponseType","_value":"Any"},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}},{"_type":"Log","_value":{"name":{"_type":"Identifier","_value":"Log_2"},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"message":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"s\"\"\"${\"Manager Approval:\"}${data(\"SendWorkdayAPIRequest\", \"response\")}\"\"\""}}},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}}]},"notes":{"_type":["List","Note"],"_value":[]}}}},"exceptionMessage":{"_type":"String","_value":"None of the conditions are matched"},"exceptionIfNoBranchMatched":{"_type":"Boolean","_value":false},"enableOutputs":{"_type":"Boolean","_value":true},"notes":{"_type":["List","Note"],"_value":[]}}}]},"notes":{"_type":["List","Note"],"_value":[]},"resources":{"_type":"ResourceProvider","_value":{"fileLikeResources":{"_type":["Map","Resource"],"_value":{}},"credentials":{"_type":["Map","Credential"],"_value":{"OTabMVk2":{"_type":"IntegrationSystemUser","_value":{"name":{"_type":"String","_value":"Reservation_ISU"},"username":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"\"DeskReservationISU\""}}},"checkEnvironment":{"_type":"Boolean","_value":false}}}}},"xmlNamespaces":{"_type":["Map","String"],"_value":{}},"retryConfigs":{"_type":["Map",["WithNotes","RetryConfig"]],"_value":{}},"csvFormats":{"_type":["Map","CsvFormat"],"_value":{}}}},"defaultWorkdayCredentialRef":{"_type":["Opt","WorkdayCredentialRef"],"_value":{"_type":"WorkdayCredentialRef","_value":{"resourceName":{"_type":"String","_value":"OTabMVk2"}}}},"palaVersion":{"_type":"String","_value":"1.2063.0"},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null}}}